<!DOCTYPE html>
<!--[if IEMobile 7 ]>    <html class="no-js iem7"> <![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title></title>
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" 
          content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta http-equiv="cleartype" content="on">

        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/touch/apple-touch-icon-144x144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/touch/apple-touch-icon-114x114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/touch/apple-touch-icon-72x72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="img/touch/apple-touch-icon-57x57-precomposed.png">
        <link rel="shortcut icon" href="img/touch/apple-touch-icon.png">

        <!-- For iOS web apps. Delete if not needed. https://github.com/h5bp/mobile-boilerplate/issues/94 -->
        <!--
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        -->

        <!-- This script prevents links from opening in Mobile Safari. https://gist.github.com/1042026 -->
        <!--
        <script>(function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone")</script>
        -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.6.1.min.js"></script>
        <style>
              body {
                margin: 0px;
                padding: 0px;
              }
              canvas {
                border: 1px solid #9C9898;
              }
            </style>
        
        <script src="js/kinetic-v4.0.0.js"></script>
            <script>
              function writeMessage(messageLayer, message) {
                var context = messageLayer.getContext();
                messageLayer.clear();
                context.font = "18pt Calibri";
                context.fillStyle = "black";
                context.fillText(message, 10, 25);
              }
        
              window.onload = function() {
                var stage = new Kinetic.Stage({
                  container: "container",
                  width: 578,
                  height: 200
                });
                var shapesLayer = new Kinetic.Layer();
                var messageLayer = new Kinetic.Layer();
        
                var triangle = new Kinetic.RegularPolygon({
                  x: 190,
                  y: 120,
                  sides: 3,
                  radius: 80,
                  fill: "#00D2FF",
                  stroke: "black",
                  strokeWidth: 4
                });
        
                triangle.on("touchmove", function() {
                  var touchPos = stage.getTouchPosition();
                  var x = touchPos.x - 190;
                  var y = touchPos.y - 40;
                  writeMessage(messageLayer, "x: " + x + ", y: " + y);
                });
        
                shapesLayer.add(triangle);
        
                var circle = new Kinetic.Circle({
                  x: 380,
                  y: stage.getHeight() / 2,
                  radius: 70,
                  fill: "red",
                  stroke: "black",
                  strokeWidth: 4
                });
        
                circle.on("touchstart", function() {
                  writeMessage(messageLayer, "Touchstart circle");
                });
                circle.on("touchend", function() {
                  writeMessage(messageLayer, "Touchend circle");
                });
        
                shapesLayer.add(circle);
        
                stage.add(shapesLayer);
                stage.add(messageLayer);
              };
        
            </script>
          </head>
          <body onmousedown="return false;">
            <div id="container"></div>
          </body>
</html>
